# 训练删除功能用户手册

**版本**: v1.0.0  
**更新日期**: 2025年7月19日  
**适用用户**: 管理员、训练创建者  

---

## 📖 功能介绍

训练删除功能允许管理员和训练创建者在必要时删除训练活动。系统会自动通知所有报名用户，并保留完整的操作记录。

### 主要特点
- 🔒 **安全可靠**: 严格的权限控制和时间限制
- 📱 **自动通知**: 删除后自动通知所有报名用户
- 📝 **操作记录**: 完整记录删除操作和原因
- 🎨 **友好界面**: 现代化的确认界面和清晰提示

---

## 👥 使用权限

### 谁可以删除训练？
- ✅ **管理员**: 可以删除任何训练活动
- ✅ **训练创建者**: 可以删除自己创建的训练
- ❌ **普通用户**: 无法删除训练活动

### 什么时候可以删除？
- ✅ **训练开始前2小时以上**: 可以正常删除
- ❌ **训练开始前2小时内**: 禁止删除，保护临近训练
- ❌ **训练已开始或结束**: 无法删除已进行的训练
- ❌ **已有用户确认出勤**: 不能删除有出勤记录的训练

---

## 📱 操作步骤

### 第一步：进入训练详情页
1. 打开飞盘队训练助手小程序
2. 在训练列表中点击要删除的训练
3. 进入训练详情页面

### 第二步：点击删除按钮
1. 在训练详情页面向下滚动
2. 找到红色的"删除训练"按钮
3. 点击按钮（如果按钮不可见，说明您没有删除权限）

### 第三步：确认删除信息
删除确认弹窗会显示以下信息：
- 📋 **训练基本信息**: 名称、时间、地点
- 👥 **报名影响统计**: 显示受影响的用户数量
- ⏰ **时间限制提醒**: 确认当前可以删除
- 📝 **删除原因输入**: 可选择预设原因或自定义

### 第四步：选择删除原因
**预设原因选项**:
- 🌧️ 天气原因
- 🏟️ 场地问题  
- 👥 人数不足
- 📅 临时调整

**自定义原因**:
- 在文本框中输入具体的删除原因
- 最多可输入200个字符
- 删除原因将记录在系统中并通知用户

### 第五步：确认删除操作
1. 仔细检查删除信息和影响范围
2. 点击红色的"确认删除"按钮
3. 等待系统处理（通常需要2-5秒）
4. 删除成功后会自动返回训练列表

---

## 📬 通知机制

### 自动通知内容
删除训练后，系统会自动向所有报名用户发送通知：

```
亲爱的[用户名]：

很抱歉通知您，您报名的训练活动已被取消：

📅 训练名称：[训练标题]
🕐 原定时间：[训练时间]
📍 训练地点：[训练地点]
👤 操作人员：[操作者姓名]

🔍 取消原因：[删除原因]

如有疑问，请联系管理员。感谢您的理解！

飞盘队训练助手
```

### 通知发送状态
- ✅ **发送成功**: 用户会收到完整的取消通知
- 🔄 **发送中**: 系统正在处理通知发送
- ❌ **发送失败**: 系统会自动重试，管理员会收到失败报告

---

## ⚠️ 重要提醒

### 删除限制
1. **时间限制**: 训练开始前2小时内无法删除
2. **出勤保护**: 已有用户确认出勤的训练无法删除
3. **权限限制**: 只有管理员或创建者可以删除

### 删除后果
1. **不可恢复**: 删除操作无法撤销，请谨慎操作
2. **自动通知**: 所有报名用户都会收到取消通知
3. **报名取消**: 所有相关报名记录会被自动取消
4. **记录保留**: 删除操作会被完整记录在系统中

### 最佳实践
1. **提前通知**: 尽量提前删除，给用户更多准备时间
2. **详细原因**: 提供清晰的删除原因，便于用户理解
3. **及时沟通**: 删除后可通过其他渠道进一步沟通
4. **避免频繁**: 避免频繁删除训练，影响用户体验

---

## 🎨 界面说明

### 删除按钮状态
- 🔴 **红色按钮**: 可以删除，点击进入确认流程
- 🔒 **灰色按钮**: 无法删除，鼠标悬停显示原因
- 👻 **不显示**: 没有删除权限

### 确认弹窗元素
- 🗑️ **删除图标**: 醒目的删除操作标识
- ⚠️ **警告提示**: 重要的操作提醒
- 📊 **影响统计**: 清晰的数据展示
- 🎯 **预设选项**: 快速选择常用原因
- ✏️ **自定义输入**: 灵活的原因描述

### 响应式设计
- 📱 **手机适配**: 完美适配各种手机屏幕
- 💻 **平板支持**: 在平板设备上也有良好体验
- 🌙 **深色模式**: 预留深色模式支持

---

## ❓ 常见问题

### Q: 为什么我看不到删除按钮？
**A**: 可能的原因：
- 您不是管理员或训练创建者
- 训练已经开始或结束
- 距离训练开始不足2小时
- 已有用户确认出勤

### Q: 删除后用户会收到什么通知？
**A**: 用户会收到详细的取消通知，包括：
- 训练基本信息
- 取消原因
- 操作者信息
- 联系方式提醒

### Q: 删除操作可以撤销吗？
**A**: 不可以。删除操作是不可逆的，请在确认前仔细检查。

### Q: 如果通知发送失败怎么办？
**A**: 系统会自动重试发送，管理员会收到失败报告。您也可以通过其他方式通知用户。

### Q: 删除训练会影响历史记录吗？
**A**: 不会。系统使用软删除机制，所有数据都会保留，只是标记为已删除。

### Q: 可以批量删除多个训练吗？
**A**: 目前不支持批量删除，需要逐个删除训练活动。

---

## 📞 技术支持

### 遇到问题时
1. **检查权限**: 确认您有删除该训练的权限
2. **查看提示**: 仔细阅读界面上的错误提示
3. **重试操作**: 网络问题可能导致操作失败，可以重试
4. **联系管理员**: 如果问题持续存在，请联系系统管理员

### 反馈建议
如果您对删除功能有任何建议或发现问题，欢迎通过以下方式反馈：
- 📧 通过小程序内的反馈功能
- 💬 联系开发团队
- 📝 提交功能改进建议

---

## 📋 操作检查清单

### 删除前检查
- [ ] 确认有删除权限
- [ ] 检查时间限制（距离开始>2小时）
- [ ] 确认没有出勤记录
- [ ] 准备好删除原因

### 删除时操作
- [ ] 仔细阅读训练信息
- [ ] 查看受影响用户数量
- [ ] 选择或输入删除原因
- [ ] 确认删除操作

### 删除后跟进
- [ ] 确认删除成功
- [ ] 检查通知发送状态
- [ ] 必要时进行额外沟通
- [ ] 关注用户反馈

---

**用户手册版本**: v1.0.0  
**最后更新**: 2025年7月19日  
**技术支持**: 飞盘队训练助手开发团队

---

💡 **温馨提示**: 删除训练是一个重要操作，请务必谨慎使用。如有疑问，请及时联系管理员或开发团队。
